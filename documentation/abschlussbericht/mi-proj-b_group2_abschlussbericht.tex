\documentclass{lni}
\let\ifpdf\relax

\IfFileExists{latin1.sty}{\usepackage{latin1}}{\usepackage{isolatin1}}

\usepackage{listings}
\usepackage{graphicx}
\usepackage{hyperref}

\lstset{basicstyle=\ttfamily,breaklines=true}

\author{
	Christian Ost, Madeleine Rosenhagen, Ludwig Thormann, Johannes Trepesch \\ 
	\\ 
	Abteilung \\ 
	Einrichtung \\ 
	Anschrift \\ 
	Postleitzahl Ort \\ 
	emaiaddresse@autor1 \\
	emaiaddresse@autor2
}
\title{Abschlusdokumentation -- kirjanystaevaet}


\begin{document}
\maketitle
\tableofcontents
\newpage

\begin{abstract}
Es folgt ein kurzer Überblick über die Arbeit.
\end{abstract}

\section{Einleitung}

\section{Systemarchitektur}

\section{Umsetzung des Anforderungskatalogs}
	\subsection{Datenmanagement}
	TODO: Allgemeines, zu Hibernate und weshalb wir das verwendet haben.
	\subsubsection{Datenbankschema}
	Überprüfen und Einfügen von Johannes Bild
	\subsubsection{Architektur der Datenbankfunktionen}
	Da in diesem Projekt Hibernate verwendet wird, wurde für jede Entität eine Klasse erstellt, die alle Daten anhand von Instanzvariablen enthält. Verknüpfungen zu anderen Entitäten werden hergestellt, indem eine Entität eine Collection einer anderen Entität hält. Über Annotationen werden die Eigenschaften der einzelnen Spalten definiert. So lässt sich beispielsweise über \textit{@Id} angeben, dass es sich bei dieser Variable um den Primärschlüssel handelt. In den meisten Fällen werden die Ids beim Einfügen automatisch generiert. Nur in der Klasse \textit{book} fungiert die ISBN als Schlüssel. Weiterhin werden über die Annotationen die Beziehungen zu anderen Entitäten definiert. Hierbei können ebenfalls verschiedene Einstellungen vorgenommen werden.\\
	Zum einen werden die \textit{FetchTypes} festgelegt. \textit{LAZY} bedeutet hierbei, dass die verknüpften Entitäten bei einer Datenbankabfrage nicht mitgeladen werden. Das wurde hier bei \textit{books} in \textit{Category} so gehandhabt. Wenn man z.B. nur die Liste aller vorhanden Kategorien aus der Datenbank abfragen will, werden die einzelnen Bücher häufig gar nicht benötigt. Bei dieser Einstellung werden sie nicht mitgeladen und so der Datentransfer klein gehalten. Um die Bücher einer Kategorie zu bekommen, wird eine gesonderte Abfrage gemacht. Anders sieht es bei \textit{authors} in \textit{Book} aus. Diese werden häufig benötigt und da es sich nicht um viele Autor-Datensätze pro Buch handelt, stellt es keinen Nachteil dar, sie sofort aus der Datenbank zu laden. Dafür wird der \textit{FetchType} auf \textit{EAGER} gesetzt. Bei allen Verknüpfungen, die mit \textit{User} und \textit{Order} zusammenhängen verhält es sich ebenso.
	\subsection{REST-API}
	Die REST-API liefert Bestandsdaten im JSON-Format über die zum Verkauf stehenden Bücher. Tabelle \ref{rest-api} gibt Auskunft über das verwendete URL-Schema, dabei muss der angegebenen URL \lstinline|http://localhost:8080/kirjanystaevaet/api/v1| vorangestellt werden.
	
	\begin{table}[h]
		\caption{URL-Schema der REST-API}
		\begin{tabular}{|c|c|c|c|}
			\hline
			URL & (optionale) Parameter & Methode & Beschreibung \\ \hline \hline
			\lstinline|/books| & \lstinline|limit (long)| & \lstinline|GET| & alle verfügbaren Bücher \\ \hline
			\lstinline|/books/{category}| & \lstinline|limit (long)| & \lstinline|GET| & alle verfügbaren Bücher der übergebenen Kategorie \\ \hline
			\lstinline|/books/{isbn}| & & \lstinline|GET| & das Buch mit der übergebenen ISBN \\ \hline
		\end{tabular} 
		\label{rest-api}
	\end{table}
	
\section{User Stories}
	\subsection{Registrierung und Login}
	\dots
	
	Da es zu einer Postleitzahl mehrere Orte geben kann, zum Beispiel bei \lstinline|37627|, wird dem Nutzer nach Eingabe einer Postleitzahl eine Liste mit allen zutreffenden Ortsnamen angezeigt. Aus dieser ist der korrekte Ort auszuwählen. Die möglichen Orte werden im Hintergrund über eine AJAX-Abfrage vom Server geholt und als Radio-Buttons in die HTML-Seite eingefügt.
	
	\dots
	
	\subsection{Buchauswahl und Bestellung}
	
	\subsection{Administration des Web-Shops}

\section{Zusammenarbeit}
	\begin{itemize}
		\item git
		\item GitHub-Issues
		\item Austausch/Updates per Mail
		\item wöchentliche Treffen
	\end{itemize}
	
\section{Lessons Learned}
	\begin{itemize}
		\item[Git] Wie lösen wir Merge-Konflikte? Wie teilen wir die Arbeit auf unterschiedliche Branches aus? Wie halten wir unseren Master einigermaßen fehlerfrei?
		\item[Naming Conventions] Wie benennen wir unsere Feature-Branches? Wie benennen wir unsere Klassen? Wie benennen wir unsere Packages?
	\end{itemize}
	
\bibliography{lnitemplate}

\end{document}
